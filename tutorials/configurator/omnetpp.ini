[General]
*.configurator.dumpTopology = true
*.configurator.dumpLinks = true
*.configurator.dumpAddresses = true
*.configurator.dumpRoutes = true

**.arpType = "GlobalARP"
**.routingTable.netmaskRoutes = "" # why is it important?

######################################################################################################
[Config Step1]
network = ConfiguratorA
description = "Fully automatic IP address assignment"

######################################################################################################
[Config Step2]
network = ConfiguratorA
description = "Manually overriding individual IP addresses"

# using inline XML configuration
*.configurator.config = xml("<config> \
								<interface hosts='*.Host3' names='eth0' address='10.0.0.100'/> \
   								<interface hosts='*.Host1' names='eth0' address='10.0.0.50'/> \
								<interface hosts='**' address='10.x.x.x' netmask='255.x.x.x'/> \
							 </config>")

######################################################################################################
[Config Step3]
network = ConfiguratorA
description = "Automatically assigning IP addresses to a subnet from a given range"

*.configurator.config = xmldoc("step3.xml")

######################################################################################################
[Config Step4]
network = ConfiguratorA
description = "Fully automatic static routing table configuration"

*.Host0.numPingApps = 1
*.Host0.pingApp[*].destAddr = "Host7"

*.Host1.numPingApps = 1
*.Host1.pingApp[*].destAddr = "Host8"

*.configurator.dumpConfig = "step4dump.xml" # TODO: remove

*.visualizer.destinationFilter = "*.Host7"

######################################################################################################
[Config Step5A]
extends = Step4
description = "Manually overriding individual routes - route to a specific host"

*.configurator.config = xmldoc("step5a.xml")

######################################################################################################
[Config Step5B]
extends = Step4
description = "Manually overriding individual routes - route to a set of hosts"

*.configurator.config = xmldoc("step5b.xml")
*.configurator.optimizeRoutes = false			# TODO: this shouldn't be here - it's here because of an error in the optimizer

*.configurator.dumpConfig = "step5bdump.xml" # TODO: remove

######################################################################################################
[Config Step6]
extends = Step4
description = "Configuring metric for automatic routing table generation"

*.configurator.config = xml("<config> \
							    <interface hosts='**' address='10.x.x.x' netmask='255.x.x.x'/> \
								<autoroute hosts='**' metric='dataRate'/> \
							 </config>")

######################################################################################################
[Config Step7A]
network = ConfiguratorB
description = "Configuring a hierarchical network - A: non optimized, fully automatic IP address assignment and static routes"

# TODO: explain why
*.configurator.assignDisjunctSubnetAddresses = false
*.configurator.addDefaultRoutes = false
*.configurator.addSubnetRoutes = false
*.configurator.optimizeRoutes = false

######################################################################################################
[Config Step7B]
network = ConfiguratorB
description = "Configuring a hierarchical network - B: optimized, fully automatic IP address assignment and static routes"

######################################################################################################
[Config Step7C]
network = ConfiguratorB
description = "Configuring a hierarchical network - C: optimized, hierarchically asssigned IP addresses"

*.configurator.config = xmldoc("step7c.xml")

######################################################################################################
[Config Step8]
network = ConfiguratorC
description = "Mixed wired/wireless network configuration"

*.configurator.config = xmldoc("step8.xml")

*.visualizer.routingTableVisualizer.destinationFilter = "*.Area3Subnet2*"

######################################################################################################
[Config Step9A]
network = ConfiguratorC
description = "Leaving some part of the network unconfigured"

*.configurator.config = xmldoc("step9.xml")
*.configurator.optimizeRoutes = false

*.Area1AP.wlan[*].mgmt.ssid = "Area1Subnet2"
*.Area3AP.wlan[*].mgmt.ssid = "Area3Subnet2"

*.Area1Subnet2Host*.wlan[*].agent.default_ssid = "Area1Subnet2"
*.Area3Subnet2Host*.wlan[*].agent.default_ssid = "Area3Subnet2"

*.visualizer.routingTableVisualizer.destinationFilter = "*.Area1Subnet2*"

######################################################################################################
[Config Step9B] # TODO: fill in missing routes by setting the IP address on the router only and using addNetmaskRoutes
network = ConfiguratorC

######################################################################################################
[Config Step10A]
network = ConfiguratorD
description = "Completely wireless network, routing tables unconfigured, prepared for MANET routing"

*.configurator.addStaticRoutes = false

*.visualizer.routingTableVisualizer.destinationFilter = "*.*"

######################################################################################################
[Config Step10B]
extends = Step10A
description = "Completely wireless network, routing tables unconfigured, using AODV routing"

*.aodvRouter1.numPingApps = 1						#ping app required to trigger creation of routes
*.aodvRouter1.pingApp[*].destAddr = "aodvRouter2"	#routes disappear after some time, because they are not used
													#only the active route between host1 and 2 remains

#[Config Step11A]
#description = "Manually modifying an automatically created complete configuration - dumping the full configuration"

#[Config Step11B]
#description = "Manually modifying an automatically created complete configuration - using the modified configuration"

######################################################################################################
[Config Step12]
network = ConfiguratorE
description = "Configuring a wireless network to use error rate metric"

*.Area1wirelessHost1.numPingApps = 1
*.Area1wirelessHost1.pingApp[*].destAddr = "Area2wirelessHost1"

**.wlan[*].radio.transmitter.power = 1mW

*.configurator.config = xmldoc("step12.xml")
*.configurator.addSubnetRoutes = false
*.configurator.addDefaultRoutes = false
*.configurator.optimizeRoutes = false

*.visualizer.mediumVisualizer.displayCommunicationRanges = true
*.visualizer.routingTableVisualizer.destinationFilter = "*.*"

# why does the AP send ping packet two times

######################################################################################################
[Config Step13]
network = ConfiguratorF
description = "Manually modifying an automatically created complete configuration"

*.*Mobile*.forwarding = false
*.*Mobile*.wlan[*].mgmtType = "Ieee80211MgmtSTA"

**.transmitter.power = 2mW

*.visualizer.routingTableVisualizer.destinationFilter = "*.*"

*.configurator.config = xmldoc("step13.xml")
*.configurator.dumpConfig = "step13dump.xml"

*.visualizer.mediumVisualizer.displayCommunicationRanges = true
